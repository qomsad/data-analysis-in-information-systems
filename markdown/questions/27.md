# 27. Рандомизация построения решающих деревьев. Алгоритм построения случайного леса. Особенности модели «случайный лес». [[⇧]](../questions-list.md)

## Рандомизация построения решающих деревьев

Выбрать признак для предиката из $q$ признаков, случайно выбранных из всего множества признаков размером $d$:

Рекомендации по выбору $q$:

- В задаче регрессии брать $q = d/3$.
- В задачах классификации брать $q = \sqrt{d}$.

## Алгоритм построения случайного леса

1. С помощью бутстрапа построить $N$ случайных выборок $X_n$
2. Использовать каждую из выборок, полученных на шаге 1, для обучения решающих деревьев $b_n$:
   - Дерево $b_n$ строится, пока в каждом листе окажется не более чем $n_{min}$ объектов – получаются сложные и переобученные деревья с низким смещением.
   - Процесс построения дерева **рандомизирован**.
3. Деревья, построенные на шаге 2, объединяют в композицию.

## Особенности модели «случайный лес»

- Случайные леса не переобучаются при росте числа базовых алгоритмов
- Каждое дерево случайного леса обучается на бутстрапированной выборке.
