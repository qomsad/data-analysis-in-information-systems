# 33. Методы кластеризации, основанные на плотности точек: основная идея. Алгоритм DBSCAN, его достоинства и недостатки. Рекомендации по подбору параметров. [[⇧]](../questions-list.md)

## Методы кластеризации, основанные на плотности точек

Методы, основанные на плотности точек, используют следующую идею: все объекты выборки рассматриваются совместно с их окрестностью

- Точка называется основной или ядерной, если в ее окрестности радиуса ε содержится не менее, чем $N$ других точек
- Точка называется граничной, если в ее окрестности менее, чем $N$ других точек, но среди них есть основная
- В ином случае точка называется шумовой

> Алгоритм рассматривает кластеры как области с высокой плотностью точек, разделенные областями с низкой плотностью

## Алгоритм DBSCAN

1. $I = 1$ счетчик кластеров
2. Поместить все точки выборки, как **не просмотренные**.
3. Для каждой точки выборки из числа не просмотренных:  
   3.1. Создать список обхода (все точки их окрестности текущей точки)  
   3.2. Если в списке менее, чем N других точек  
   3.2.1. Поместить текущую точку как шумовую  
   3.2.2. Перейти на следующую итерацию  
   Иначе  
   3.3. Поместить текущую точку как принадлежащую кластеру $i$  
   3.4. Для каждой точки из списка обхода  
   3.4.1. Если точка была помечена как шумовая, то  
   3.4.1.1. Пометить ее как принадлежащую кластеру $i$  
   3.4.1.2. Перейти на следующую итерацию  
   Иначе  
   3.4.2. Пометить ее как принадлежащую кластеру $i$  
   3.4.3. Сформировать список точек из окрестностей данной точки  
   3.4.4. Если в списке не менее, чем $N$ других точек, то добавить этот список к списку обхода  
   3.5. $I=i+1$

### Достоинства

- Не требует задания числа кластеров $k$.
- Автоматически определяет выбросы.
- Позволяет выявить кластеры сложной формы.

### Недостатки

- Качество работы DBSCAN зависит от способа измерения расстояния.
- Плохо работает, если кластеры имеют разную плотность.
- Может неправильно определять число кластеров, когда кластеры близко расположены друг к другу.

### Подбор параметров

Рекомендуется построить графики для разных значений $k$ и определить оптимальную величину $ε$ для каждого их них.  
Следует выбрать такую пару значений $k=N$ и $ε$, чтобы количество шумовых точек было минимальным.
